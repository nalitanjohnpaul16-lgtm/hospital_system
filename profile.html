{% extends 'layout.html' %}
{% block content %}
<div class="bg-full bg-full-solid" style="background-image:url('/assets/HMS1.jpg')"></div>
<h2 class="glass-title">My Profile</h2>
<form class="form" method="post" enctype="multipart/form-data">
  <label>Username</label>
  <input type="text" value="{{ user.get('username') }}" disabled>

  {% if user.get('avatar') %}
  <label>Current Avatar</label>
  <img src="{{ user.get('avatar') }}" alt="Avatar" style="width:96px; height:96px; border-radius:50%; object-fit:cover; border:1px solid #e5e7eb;">
  {% endif %}

  <label>Upload New Avatar</label>
  <input name="avatar" type="file" accept="image/*">

  <label>Phone</label>
  <input name="phone" type="tel" inputmode="tel" value="{{ user.get('phone','') }}" placeholder="+1xxxxxxxxxx">

  <label>Email</label>
  <input name="email" type="email" value="{{ user.get('email','') }}" placeholder="you@example.com">

  <label>PIN (5 digits; set on first edit)</label>
  <input name="pin" type="password" inputmode="numeric" maxlength="5" pattern="\d{5}" placeholder="Optional change">

  <div class="form-actions">
    <button class="btn primary" type="submit">Save</button>
  </div>
</form>
{% endblock %}
